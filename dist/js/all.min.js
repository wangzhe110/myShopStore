angular.module("myApp",["ionic","myApp.tabs","myApp.homeC","myApp.homeDetail","myApp.national","myApp.credit","myApp.personal","myApp.collection","myApp.order","myApp.shopCarHome","myApp.slideBox","myApp.myCredit","myApp.payHistory","myApp.myAddress","myApp.httpFactory","RongWebIMWidget"]).config(["$urlRouterProvider",function(o){o.otherwise("/tabs/home")}]),angular.module("myApp.collection",[]).config(["$stateProvider",function(o){o.state("tabs.collectionPager",{url:"/collectionPager",views:{"tabs-personal":{templateUrl:"collectionPager.html",controller:"collectionPagerController"}}})}]).controller("collectionPagerController",["$scope","$ionicTabsDelegate","$ionicModal","$ionicPopup","HttpFactory",function(o,e,t,n,r){function a(e){n.show({cssClass:"myOrder",template:"确认要删除吗？",buttons:[{text:"取消",onTap:function(){}},{text:"确定",onTap:function(){o.collect.goodsNumArray.splice(e,1)}}]})}function l(){o.collect.val>1&&o.collect.val--}function i(){o.collect.val++}function s(){o.modal.show()}o.$on("$ionicView.beforeEnter",function(){e.showBar(!1)}),o.collect={delete:a,goods_name:"普通商品",goods_title:"买一份送一份日王阳澄湖大闸蟹全母螃蟹3.2-3.0两6只鲜活现货礼盒装",goods_price:"￥300",goods_num:"x1",goodsNumArray:[1,2,3],showShopCar:s,money:128,val:1,count:800,reduce:l,add:i};var c="?sessid=107",d="http://114.112.94.166/sunny/wap/api/ucollection"+c;r.getData(d).then(function(o){console.log(o)},function(o){console.log(o)}),t.fromTemplateUrl("shopCar_Modal.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.modal=e}),o.$on("$destroy",function(){o.modal.remove()})}]),angular.module("myApp.credit",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.credit",{url:"/credit",views:{"tabs-credit":{templateUrl:"creditStore.html",controller:"creditController"}}})}]).controller("creditController",["$scope","$ionicTabsDelegate","HttpFactory",function(o,e,t){function n(){console.log("进行查询")}function r(e){var t=o.home.goodsListArray[e];$state.go("tabs.creditDetail",{goodsDetail:t.goods_id})}o.$on("$ionicView.beforeEnter",function(){e.showBar(!0)}),o.credit={search:n,slideArray:[],goodsListArray:[],goToDetail:r};var a="http://114.112.94.166/sunny/wap/api/getGoods?integral=1";t.getData(a).then(function(e){o.credit.slideArray=e.bannerData,console.log(o.credit.slideArray);for(var t=0;t<e.goodsData.length;t++)e.goodsData[t].goods_introduction="http://114.112.94.166"+e.goodsData[t].goods_introduction;o.credit.goodsListArray=e.goodsData})}]),angular.module("myApp.homeC",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.home",{url:"/home",views:{"tabs-home":{templateUrl:"home.html",controller:"homeController"}}})}]).controller("homeController",["$scope","$state","$ionicTabsDelegate","HttpFactory","$ionicModal",function(o,e,t,n,r){function a(){console.log("进行查询")}function l(t){var n=o.home.goodsListArray[t];e.go("tabs.homeDetail",{goodsDetail:n.goods_id})}function i(){o.modal.show()}o.$on("$ionicView.beforeEnter",function(){t.showBar(!0)}),o.home={search:a,slideArray:[],goodsListArray:[],goToDetail:l,showshopCarModal:i};var s="http://114.112.94.166/sunny/wap/api/getGoods";n.getData(s).then(function(e){o.home.slideArray=e.bannerData,console.log(o.home.slideArray);for(var t=0;t<e.goodsData.length;t++)e.goodsData[t].goods_introduction="http://114.112.94.166"+e.goodsData[t].goods_introduction;o.home.goodsListArray=e.goodsData}),r.fromTemplateUrl("shopCar_Modal.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.modal=e}),o.$on("$destroy",function(){o.modal.remove()})}]),angular.module("myApp.homeDetail",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.homeDetail",{url:"/homeDetail",params:{goodsDetail:"发生未知错误"},views:{"tabs-home":{templateUrl:"homeDetail.html",controller:"homeDetailController"}}})}]).controller("homeDetailController",["$scope","$state","$stateParams","$ionicTabsDelegate","HttpFactory","$ionicModal",function(o,e,t,n,r,a){function l(e){o.homeDetailselected=!o.homeDetailselected;var t=angular.element(e.currentTarget),n=angular.element(t.children()[0]);o.homeDetailselected?n.removeClass("homeDetail_titleRightIon").addClass("homeDetail_titleRightIonChanged"):n.removeClass("homeDetail_titleRightIonChanged").addClass("homeDetail_titleRightIon")}function i(e){o.homeDetail.navDetailName="商品详情";var t=angular.element(e.currentTarget).children();d(),t.css({"border-bottom":".1rem solid #e80516",color:"#e80516"})}function s(e){o.homeDetail.navDetailName="商品参数";var t=angular.element(e.currentTarget).children();d(),t.css({"border-bottom":".1rem solid #e80516",color:"#e80516"})}function c(e){o.homeDetail.navDetailName="评价";var t=angular.element(e.currentTarget).children();d(),t.css({"border-bottom":".1rem solid #e80516",color:"#e80516"})}function d(){for(var o=angular.element(document.getElementsByClassName("homeDetail_goodsNav")),e=o.children(),t=0;t<e.length;t++){var n=angular.element(e[t]).children();n.css({"border-bottom":".1rem solid transparent",color:"#666"})}}function m(){e.go("tabs.home")}function u(){e.go("tabs.shopCarHome"),console.log("进入购物车页面")}function p(){console.log("弹出购物车模态窗口"),g()}function g(){o.modal.show()}o.homeDetail={slideArray:[],collect:l,selected:!0,showShopCarModal:p,navDetailName:"商品详情",showGoodsDetail:i,showGoodsArgument:s,showGoodsJudge:c,goToHomePager:m,goToShopCarHome:u},o.$on("$ionicView.beforeEnter",function(){n.showBar(!1)}),console.log(t.goodsDetail),function(){var o={id:t.goodsDetail};console.log(o);var e="http://114.112.94.166/sunny/wap/api/getGoods";r.getData(e,o).then(function(o){console.log(o)}).then(function(o){console.log(o)})}(),a.fromTemplateUrl("shopCar_Modal.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.modal=e}),o.$on("$destroy",function(){o.modal.remove()})}]),angular.module("myApp.myAddress",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.myAddress",{url:"/myAddress",views:{"tabs-personal":{templateUrl:"myAddress.html",controller:"myAddressController"}}})}]).controller("myAddressController",["$scope","$ionicTabsDelegate",function(o,e){function t(e){o.address.tubiao="选中"}function n(e){o.address.tubiao="未选中"}o.$on("$ionicView.beforeEnter",function(){e.showBar(!1)}),o.address={changeIconGray:t,changeIconRed:n,tubiao:"未选中"}}]),angular.module("myApp.myCredit",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.myCredit",{url:"/myCredit",views:{"tabs-personal":{templateUrl:"myCredit.html",controller:"myCreditController"}}})}]).controller("myCreditController",["$scope","HttpFactory","$ionicTabsDelegate",function(o,e,t){o.$on("$ionicView.beforeEnter",function(){t.showBar(!1)})}]),angular.module("myApp.national",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.national",{url:"/national",views:{"tabs-national":{templateUrl:"nationalStore.html",controller:"nationalController"}}})}]).controller("nationalController",["$state",function(o){}]),angular.module("myApp.order",[]).config(["$stateProvider",function(o){o.state("tabs.order",{url:"/order",views:{"tabs-personal":{templateUrl:"orderHome.html",controller:"orderController"}}})}]).controller("orderController",["$scope","HttpFactory","$ionicTabsDelegate",function(o,e,t){o.$on("$ionicView.beforeEnter",function(){t.showBar(!1)}),o.order={goodsClass:"待付款"}}]),angular.module("myApp.payHistory",[]).config(["$stateProvider",function(o){o.state("tabs.payHistory",{url:"/payHistory",views:{"tabs-personal":{templateUrl:"payHistory.html",controller:"payHistoryController"}}})}]).controller("payHistoryController",["$scope","HttpFactory","$ionicTabsDelegate",function(o,e,t){o.$on("$ionicView.beforeEnter",function(){t.showBar(!1)})}]),angular.module("myApp.personal",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.personal",{url:"/personal",views:{"tabs-personal":{templateUrl:"personalCenter.html",controller:"personalController"}}})}]).controller("personalController",["$scope","$ionicTabsDelegate","$state","$ionicViewSwitcher",function(o,e,t,n){function r(){t.go("tabs.order"),console.log("进入我的订单页面")}function a(){console.log("进入我的收藏页面"),t.go("tabs.collectionPager")}function l(){console.log("进入我的积分页面"),t.go("tabs.myCredit")}function i(){console.log("进入购物车页面"),t.go("tabs.shopCarHome")}function s(){console.log("进入收货地址页面"),t.go("tabs.myAddress")}function c(){console.log("进入我的支付记录页面"),t.go("tabs.payHistory")}function d(){console.log("进入关注页面")}o.$on("$ionicView.beforeEnter",function(){e.showBar(!0)}),o.personal={userName:"你还想我吗？",creditNum:"3800",showOrder:r,showCollect:a,showShoppingCar:i,showCredit:l,showAddress:s,showPay:c,showAttention:d}}]),angular.module("myApp.shopCarHome",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.shopCarHome",{url:"/shopCarHome",views:{"tabs-personal":{templateUrl:"shoppingCarHome.html",controller:"shopCarHomeController"}}})}]).controller("shopCarHomeController",["$scope","$ionicTabsDelegate",function(o,e){function t(){"全部"==o.shopCarHome.hasClass?o.shopCarHome.hasClass="":o.shopCarHome.hasClass="全部"}function n(){"选中"==o.shopCarHome.hasClassOne?(o.shopCarHome.hasClassOne="",console.log("取消选中"),o.shopCarHome.hasClass=""):(o.shopCarHome.hasClassOne="选中",console.log("选中"))}o.$on("$ionicView.beforeEnter",function(){e.showBar(!1)}),o.shopCarHome={hasClass:"全部",hasClassOne:"选中",changeState:t,changeStateOne:n}}]),angular.module("myApp.tabs",["ionic"]).config(["$stateProvider",function(o){o.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"})}]).controller("tabsController",["$scope","$ionicSideMenuDelegate","RongCustomerService","$ionicGesture",function(o,e,t,n){o.toggleLeft=function(){e.$getByHandle("sideContent").toggleRight(!0),console.log("切换侧边栏")},t.init({appkey:"qd46yzrfqdivf",token:"I7nOrHq+IgKOsOvytqrpRRcFT+3efc1/pVJK425QU4Ma318KoCDsdZA+jgc+1+8yW0KYYBC+TCvAMgNXWsLgkg==",customerServiceId:"KEFU148292389311963",position:t.Position.right,reminder:" ",positionFixed:!0,style:{width:window.screen.width,height:window.screen.height},onSuccess:function(){var o=angular.element(document.getElementById("rong-widget-minbtn"));o.css("bottom","80px"),o.css("right","20px");var e=angular.element(document.getElementById("rong-sendBtn"));e.css("backgroundColor","#E60012"),o.on("click",function(){});var t=angular.element(document.getElementById("header").childNodes[1].childNodes[1]);t.on("click",function(){})}});var r=angular.element(document.getElementById("rong-widget-minbtn"));o.oy="",n.on("touch",function(e){o.$apply(function(){o.oy=e.target.offsetTop})},r),n.on("drag",function(e){o.$apply(function(){dy=e.gesture.deltaY,e.target.style.top=o.oy+dy+"px"})},r)}]),angular.module("myApp.httpFactory",[]).factory("HttpFactory",["$http","$q",function(o,e){return{getData:function(t,n,r){if(console.log(t),t){var a=e.defer();return r=r?r:"GET",n=n?n:{},o({url:t,method:r,params:n,timeout:2e4}).then(function(o){a.resolve(o.data)},function(o){a.reject(o)}),a.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mySlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},templateUrl:"slideBox.html",controller:["$scope","$state","$ionicSlideBoxDelegate","$element","$timeout",function(o,e,t,n,r){o.goToDetailView=function(o){console.log("进入详情页"+o)};n[0].lastChild;o.$watch("sourceArray",function(e,t){e&&e.length&&(o.isShowSlideBox=!0)})}],replace:!0}}]);