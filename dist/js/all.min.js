angular.module("myApp",["ionic","myApp.tabs","myApp.homeC","myApp.national","myApp.credit","myApp.personal","myApp.collection","myApp.order","myApp.shopCarHome","myApp.slideBox","myApp.httpFactory","RongWebIMWidget"]).config(["$urlRouterProvider",function(o){o.otherwise("/tabs/home")}]),angular.module("myApp.collection",[]).config(["$stateProvider",function(o){o.state("tabs.collectionPager",{url:"/collectionPager",views:{"tabs-personal":{templateUrl:"collectionPager.html",controller:"collectionPagerController"}}})}]).controller("collectionPagerController",["$scope","$ionicTabsDelegate","$ionicModal","$ionicPopup",function(o,e,t,n){function r(e){n.show({cssClass:"myOrder",template:"确认要删除吗？",buttons:[{text:"取消",onTap:function(){}},{text:"确定",onTap:function(){o.collect.goodsNumArray.splice(e,1)}}]})}function l(){o.collect.val>1&&o.collect.val--}function a(){o.collect.val++}function i(){o.modal.show()}o.$on("$ionicView.beforeEnter",function(){e.showBar(!1)}),o.collect={delete:r,goods_name:"普通商品",goods_title:"买一份送一份日王阳澄湖大闸蟹全母螃蟹3.2-3.0两6只鲜活现货礼盒装",goods_price:"￥300",goods_num:"x1",goodsNumArray:[1,2,3],showShopCar:i,money:128,val:1,count:800,reduce:l,add:a},t.fromTemplateUrl("shopCar_Modal.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.modal=e}),o.$on("$destroy",function(){o.modal.remove()})}]),angular.module("myApp.credit",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.credit",{url:"/credit",views:{"tabs-credit":{templateUrl:"creditStore.html",controller:"creditController"}}})}]).controller("creditController",["$state",function(o){}]),angular.module("myApp.homeC",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.home",{url:"/home",views:{"tabs-home":{templateUrl:"home.html",controller:"homeController"}}})}]).controller("homeController",["$scope","HttpFactory",function(o,e,t){function n(){console.log("进行查询")}o.home={search:n,slideArray:[],goodsListArray:[]};var r="http://114.112.94.166/sunny/wap/api/getGoods";e.getData(r).then(function(e){for(var t=0;t<e.goodsData.length;t++)e.goodsData[t].goods_introduction="http://114.112.94.166"+e.goodsData[t].goods_introduction;o.home.goodsListArray=e.goodsData,console.log(o.home.goodsListArray)})}]),angular.module("myApp.national",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.national",{url:"/national",views:{"tabs-national":{templateUrl:"nationalStore.html",controller:"nationalController"}}})}]).controller("nationalController",["$state",function(o){}]),angular.module("myApp.order",[]).config(["$stateProvider",function(o){o.state("tabs.order",{url:"/order",views:{"tabs-personal":{templateUrl:"orderHome.html",controller:"orderController"}}})}]).controller("orderController",["$scope","$ionicTabsDelegate",function(o,e){o.$on("$ionicView.beforeEnter",function(){e.showBar(!1)}),o.order={goodsClass:"待付款"}}]),angular.module("myApp.personal",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.personal",{url:"/personal",views:{"tabs-personal":{templateUrl:"personalCenter.html",controller:"personalController"}}})}]).controller("personalController",["$scope","$ionicTabsDelegate","$state","$ionicViewSwitcher",function(o,e,t,n){function r(){t.go("tabs.order"),console.log("进入我的订单页面")}function l(){console.log("进入我的收藏页面"),t.go("tabs.collectionPager")}function a(){console.log("进入我的积分页面")}function i(){console.log("进入购物车页面"),t.go("tabs.shopCarHome")}function s(){console.log("进入收货地址页面")}function c(){console.log("进入我的支付记录页面")}function u(){console.log("进入关注页面")}o.$on("$ionicView.beforeEnter",function(){e.showBar(!0)}),o.personal={userName:"你还想我吗？",creditNum:"3800",showOrder:r,showCollect:l,showShoppingCar:i,showCredit:a,showAddress:s,showPay:c,showAttention:u}}]),angular.module("myApp.shopCarHome",["ionic"]).config(["$stateProvider",function(o){o.state("tabs.shopCarHome",{url:"/shopCarHome",views:{"tabs-personal":{templateUrl:"shoppingCarHome.html",controller:"shopCarHomeController"}}})}]).controller("shopCarHomeController",["$scope","$ionicTabsDelegate",function(o,e){function t(){"全部"==o.shopCarHome.hasClass?o.shopCarHome.hasClass="":o.shopCarHome.hasClass="全部"}function n(){"选中"==o.shopCarHome.hasClassOne?(o.shopCarHome.hasClassOne="",console.log("取消选中"),o.shopCarHome.hasClass=""):(o.shopCarHome.hasClassOne="选中",console.log("选中"))}o.$on("$ionicView.beforeEnter",function(){e.showBar(!1)}),o.shopCarHome={hasClass:"全部",hasClassOne:"选中",changeState:t,changeStateOne:n}}]),angular.module("myApp.tabs",["ionic"]).config(["$stateProvider",function(o){o.state("tabs",{url:"/tabs",abstract:!0,templateUrl:"tabs.html",controller:"tabsController"})}]).controller("tabsController",["$scope","$ionicSideMenuDelegate","RongCustomerService","$ionicGesture",function(o,e,t,n){o.toggleLeft=function(){e.$getByHandle("sideContent").toggleRight(!0),console.log("切换侧边栏")},t.init({appkey:"qd46yzrfqdivf",token:"I7nOrHq+IgKOsOvytqrpRRcFT+3efc1/pVJK425QU4Ma318KoCDsdZA+jgc+1+8yW0KYYBC+TCvAMgNXWsLgkg==",customerServiceId:"KEFU148292389311963",position:t.Position.right,reminder:" ",positionFixed:!0,style:{width:window.screen.width,height:window.screen.height},onSuccess:function(){var o=angular.element(document.getElementById("rong-widget-minbtn"));o.css("bottom","80px"),o.css("right","20px");var e=angular.element(document.getElementById("rong-sendBtn"));e.css("backgroundColor","#E60012"),o.on("click",function(){});var t=angular.element(document.getElementById("header").childNodes[1].childNodes[1]);t.on("click",function(){})}});var r=angular.element(document.getElementById("rong-widget-minbtn"));o.oy="",n.on("touch",function(e){o.$apply(function(){o.oy=e.target.offsetTop})},r),n.on("drag",function(e){o.$apply(function(){dy=e.gesture.deltaY,e.target.style.top=o.oy+dy+"px"})},r)}]),angular.module("myApp.httpFactory",[]).factory("HttpFactory",["$http","$q",function(o,e){return{getData:function(t,n){if(console.log(t),t){var r=e.defer();return n=n?n:"GET",o({url:t,method:n,timeout:2e4}).then(function(o){r.resolve(o.data)},function(o){r.reject(o)}),r.promise}}}}]),angular.module("myApp.slideBox",[]).directive("mySlideBox",[function(){return{restrict:"E",scope:{sourceArray:"="},templateUrl:"slideBox.html",controller:["$scope","$state","$ionicSlideBoxDelegate","$element","$timeout",function(o,e,t,n,r){o.goToDetailView=function(o){console.log("进入详情页"+o)};var l=n[0].lastChild;o.$watch("sourceArray",function(e,t){e&&e.length&&(o.isShowSlideBox=!0,l.innerText=o.sourceArray[0].title),o.slideHasChanged=function(e){l.innerText=o.sourceArray[e].title,o.sourceArray[e].title?l.innerText=o.sourceArray[e].title:l.innerText=o.sourceArray[e].roomName}})}],replace:!0}}]);